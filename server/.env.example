# =============================================
# FACTORY ERP SERVER ENVIRONMENT CONFIGURATION
# =============================================
# Copy this file to .env.local and update with your actual values

# Application Configuration
NODE_ENV=development
PORT=4000
HOST=localhost
APP_NAME=Factory ERP Server
APP_VERSION=2.0.0

# Database Configuration (MongoDB)
MONGODB_URI=mongodb://localhost:27017/factory-erp
DB_NAME=factory-erp
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=5
DB_MAX_IDLE_TIME=30000
DB_CONNECT_TIMEOUT=10000
DB_HEARTBEAT_FREQUENCY=10000
DB_MAX_STALENESS_SECONDS=90

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-key-here
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d
JWT_ISSUER=factory-erp
JWT_AUDIENCE=factory-erp-users

# Session Configuration
SESSION_SECRET=your-super-secure-session-secret-key-here
SESSION_NAME=factory-erp-session
SESSION_MAX_AGE=86400000

# Cookie Configuration
COOKIE_SECRET=your-super-secure-cookie-secret-key-here
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# Security Configuration
BCRYPT_SALT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=15
LOCKOUT_TIME=1800000
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv
UPLOAD_DESTINATION=uploads/

# S3 Configuration (for file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=eu-central-1
AWS_S3_BUCKET=your-s3-bucket-name
AWS_S3_ACL=private
CONTABO_S3_ENDPOINT=https://eu2.contabostorage.com

# Email Configuration (Nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@factoryerp.com
EMAIL_FROM_NAME=Factory ERP System

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Redis Configuration (for caching and sessions)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=factory-erp:

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=
LOG_MAX_SIZE=5m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Performance Monitoring
PERFORMANCE_MONITORING=true
PERFORMANCE_THRESHOLD_MS=1000
SLOW_QUERY_THRESHOLD_MS=500
MEMORY_USAGE_THRESHOLD_MB=512

# APM Configuration (Optional)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Factory ERP Server
ELASTIC_APM_SERVICE_NAME=factory-erp-server
ELASTIC_APM_SERVER_URL=http://localhost:8200
ELASTIC_APM_ENVIRONMENT=development

# Error Tracking (Sentry)
SENTRY_DSN=your-sentry-dsn-url
SENTRY_ENVIRONMENT=development

# Audit Configuration
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_PERSONAL_DATA=true
AUDIT_LOG_SENSITIVE_FIELDS=password,token,secret,key
AUDIT_LOG_COMPRESSION=true

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret-key
WEBHOOK_TIMEOUT=30000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# CORS Configuration
CORS_ORIGIN=http://localhost:4001
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Development/Testing
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=true
ENABLE_DEBUG_ROUTES=false