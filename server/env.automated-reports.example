# =============================================
# ERP AUTOMATED REPORTING SYSTEM ENVIRONMENT VARIABLES
# =============================================
# Copy this file to .env and fill in your actual values
# Required variables are marked with [REQUIRED]

# =============================================
# DATABASE CONNECTION [REQUIRED]
# =============================================
# MongoDB connection string
MONGODB_URI=mongodb://localhost:27017/factory-erp
MONGODB_URI_PROD=mongodb://username:password@host:port/database

# Database name
DB_NAME=factory-erp

# =============================================
# EMAIL CONFIGURATION [REQUIRED]
# =============================================
# SMTP server configuration for sending reports
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# Email sender information [REQUIRED]
EMAIL_FROM=noreply@erp.com
EMAIL_FROM_NAME=ERP System
EMAIL_FROM_ADDRESS=reports@yourcompany.com

# Email authentication (if required)
EMAIL_AUTH_USER=your-email@gmail.com
EMAIL_AUTH_PASSWORD=your-app-password

# =============================================
# REPORT TIMING CONFIGURATION [REQUIRED]
# =============================================
# Times in HH:MM format (24-hour) - IST timezone
DAILY_REPORT_TIME=09:00
WEEKLY_REPORT_TIME=10:00
MONTHLY_REPORT_TIME=11:00

# Timezone for reports (default: Asia/Kolkata)
REPORT_TIMEZONE=Asia/Kolkata

# =============================================
# EMAIL RECIPIENTS [REQUIRED]
# =============================================
# Comma-separated list of email addresses
# Daily reports (sent every day)
DAILY_REPORT_RECIPIENTS=owner@company.com,manager@company.com,accountant@company.com

# Weekly reports (sent every Monday)
WEEKLY_REPORT_RECIPIENTS=owner@company.com,manager@company.com,director@company.com

# Monthly reports (sent 1st of every month)
MONTHLY_REPORT_RECIPIENTS=owner@company.com,director@company.com,board@company.com

# Error notifications
ERROR_NOTIFICATION_RECIPIENTS=admin@company.com,tech@company.com

# =============================================
# COMPANY CONFIGURATION [REQUIRED]
# =============================================
# Default company ID for reports
DEFAULT_COMPANY_ID=your-company-id-here

# Company name for report headers
COMPANY_NAME=Your Company Name

# Company address for reports
COMPANY_ADDRESS=Your Company Address

# Company phone for reports
COMPANY_PHONE=+91-1234567890

# Company website for reports
COMPANY_WEBSITE=https://yourcompany.com

# =============================================
# FEATURE FLAGS [REQUIRED]
# =============================================
# Enable/disable various features
STORE_REPORT_DATA=true
STORE_FILE_METADATA=true
ARCHIVE_OLD_REPORTS=false
SEND_SUCCESS_NOTIFICATIONS=true
SEND_ERROR_NOTIFICATIONS=true

# Report generation features
GENERATE_EXCEL_REPORTS=true
GENERATE_CSV_REPORTS=true
GENERATE_PDF_REPORTS=false
GENERATE_HTML_REPORTS=false

# Email features
SEND_EMAIL_REPORTS=true
SEND_SLACK_NOTIFICATIONS=false
SEND_WHATSAPP_NOTIFICATIONS=false

# =============================================
# PERFORMANCE SETTINGS [REQUIRED]
# =============================================
# Maximum concurrent report generations
MAX_CONCURRENT_REPORTS=5

# Report generation timeout in minutes
REPORT_GENERATION_TIMEOUT=30

# Enable report caching
ENABLE_REPORT_CACHING=false

# Cache TTL in minutes
REPORT_CACHE_TTL=60

# Batch size for data processing
DATA_BATCH_SIZE=1000

# =============================================
# SECURITY SETTINGS [REQUIRED]
# =============================================
# Encrypt sensitive data in reports
ENCRYPT_SENSITIVE_DATA=false

# Encryption key for reports (32 characters minimum)
REPORT_ENCRYPTION_KEY=your-secure-encryption-key-here-32-chars

# Add watermark to reports
ADD_REPORT_WATERMARK=true

# Watermark text
REPORT_WATERMARK_TEXT=CONFIDENTIAL - ERP System

# Password protect large reports
PASSWORD_PROTECT_LARGE_REPORTS=false

# Default password for protected reports
DEFAULT_REPORT_PASSWORD=ERP2024!

# JWT secret for API authentication
JWT_SECRET=your-jwt-secret-key-here

# =============================================
# EXPORT SETTINGS [REQUIRED]
# =============================================
# Export directory for generated files
EXPORT_DIRECTORY=./exports

# Maximum file size in MB
MAX_FILE_SIZE_MB=50

# Compress large files
COMPRESS_LARGE_FILES=true

# Compression threshold in MB
COMPRESSION_THRESHOLD_MB=10

# File retention in days
FILE_RETENTION_DAYS=30

# =============================================
# DATABASE SETTINGS [REQUIRED]
# =============================================
# Report retention in days
REPORT_RETENTION_DAYS=90

# Archive reports older than (days)
ARCHIVE_AFTER_DAYS=365

# File cleanup after sending (minutes)
REPORT_CLEANUP_MINUTES=30

# Database connection pool size
DB_POOL_SIZE=10

# Database connection timeout (ms)
DB_CONNECTION_TIMEOUT=30000

# =============================================
# CUSTOMIZATION SETTINGS [REQUIRED]
# =============================================
# Include company logo in reports
INCLUDE_COMPANY_LOGO=true

# Company logo path
COMPANY_LOGO_PATH=./assets/logo.png

# Custom CSS for HTML reports
CUSTOM_REPORT_CSS=

# Report templates directory
REPORT_TEMPLATES_DIR=./templates/reports

# Default report language
DEFAULT_REPORT_LANGUAGE=en

# Supported languages (comma-separated)
SUPPORTED_LANGUAGES=en,hi,gu

# Report header customization
REPORT_HEADER_TITLE=Daily Production Report
REPORT_HEADER_SUBTITLE=Generated by ERP System

# =============================================
# LOGGING CONFIGURATION [REQUIRED]
# =============================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable debug logging
DEBUG=false

# Log file path
LOG_FILE_PATH=./logs/automated-reports.log

# Log rotation settings
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =============================================
# NOTIFICATION INTEGRATIONS [OPTIONAL]
# =============================================
# Slack webhook URL for notifications
SLACK_WEBHOOK_URL=

# Slack channel for notifications
SLACK_CHANNEL=#erp-reports

# WhatsApp Business API
WHATSAPP_NOTIFICATIONS=false
WHATSAPP_API_KEY=
WHATSAPP_PHONE_NUMBER=

# Telegram Bot API
TELEGRAM_NOTIFICATIONS=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================
# EXTERNAL SERVICES [OPTIONAL]
# =============================================
# AWS S3 for file storage
AWS_S3_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=erp-reports

# Google Drive for file storage
GOOGLE_DRIVE_ENABLED=false
GOOGLE_DRIVE_CLIENT_ID=
GOOGLE_DRIVE_CLIENT_SECRET=
GOOGLE_DRIVE_REDIRECT_URI=

# =============================================
# MONITORING & HEALTH CHECKS [REQUIRED]
# =============================================
# Enable health check endpoint
ENABLE_HEALTH_CHECKS=true

# Health check interval (minutes)
HEALTH_CHECK_INTERVAL=5

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Performance metrics collection
COLLECT_PERFORMANCE_METRICS=true

# =============================================
# ERROR HANDLING [REQUIRED]
# =============================================
# Maximum retry attempts for failed operations
MAX_RETRY_ATTEMPTS=3

# Retry delay in seconds
RETRY_DELAY_SECONDS=30

# Enable error reporting
ENABLE_ERROR_REPORTING=true

# Error reporting email
ERROR_REPORTING_EMAIL=errors@yourcompany.com

# =============================================
# BACKUP & RECOVERY [REQUIRED]
# =============================================
# Enable automatic backups
ENABLE_AUTO_BACKUP=true

# Backup frequency (daily, weekly, monthly)
BACKUP_FREQUENCY=daily

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup directory
BACKUP_DIRECTORY=./backups

# =============================================
# SERVER CONFIGURATION [REQUIRED]
# =============================================
# Server port
PORT=4000

# Node environment
NODE_ENV=development

# Server host
HOST=localhost

# =============================================
# GMAIL APP PASSWORD SETUP [REQUIRED FOR GMAIL]
# =============================================
# If using Gmail, you need to:
# 1. Enable 2-factor authentication
# 2. Generate an app password
# 3. Use the app password instead of your regular password
# 
# Steps:
# 1. Go to Google Account settings
# 2. Security > 2-Step Verification > App passwords
# 3. Generate a new app password for "Mail"
# 4. Use that password in EMAIL_PASSWORD

# =============================================
# EXAMPLE CONFIGURATIONS
# =============================================

# GMAIL EXAMPLE:
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=yourname@gmail.com
# EMAIL_PASSWORD=abcd efgh ijkl mnop
# EMAIL_FROM=yourname@gmail.com

# OUTLOOK EXAMPLE:
# EMAIL_HOST=smtp-mail.outlook.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=yourname@outlook.com
# EMAIL_PASSWORD=your-password
# EMAIL_FROM=yourname@outlook.com

# CUSTOM SMTP EXAMPLE:
# EMAIL_HOST=mail.yourcompany.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=reports@yourcompany.com
# EMAIL_PASSWORD=your-password
# EMAIL_FROM=reports@yourcompany.com

# =============================================
# VALIDATION RULES
# =============================================
# Required variables that must be set:
# - MONGODB_URI
# - EMAIL_HOST
# - EMAIL_USER
# - EMAIL_PASSWORD
# - EMAIL_FROM
# - DAILY_REPORT_RECIPIENTS
# - DEFAULT_COMPANY_ID
# - COMPANY_NAME
# - JWT_SECRET

# =============================================
# NOTES
# =============================================
# 1. All email addresses should be comma-separated
# 2. Times should be in 24-hour format (HH:MM)
# 3. File paths should be relative to project root
# 4. Encryption keys should be at least 32 characters
# 5. Test email configuration before deploying
# 6. Monitor logs for any configuration errors
# 7. EMAIL_FROM is required for sending emails
# 8. DEFAULT_COMPANY_ID must exist in your database
